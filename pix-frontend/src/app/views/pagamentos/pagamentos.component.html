<div class="body">
    <!--BUTTON NOVO PRODUTO-->
    <h1><i class="material-icons">library_books</i> Pagamentos</h1>
    <button mat-raised-button color="accent" (click)="novoPagamento()">
    <i class="material-icons">add_circle_outline</i> Novo Pagamento
    </button>

    <div class="content">
        <div class="no-payment" *ngIf="dataSource.data.length == 0">
            <h1>Nenhum pagamento encontrado... Cadastre o primeiro!</h1>
        </div>

        <div class="table-box" *ngIf="dataSource.data.length > 0">
            <table mat-table [dataSource]="dataSource">
  
                <ng-container matColumnDef="destinatario">
                  <th mat-header-cell *matHeaderCellDef> Destinatário </th>
                  <td mat-cell *matCellDef="let item"> {{item.nome_destinatario}} </td>
                </ng-container>

                <ng-container matColumnDef="chave">
                    <th mat-header-cell *matHeaderCellDef> Chave PIX </th>
                    <td mat-cell *matCellDef="let item"> {{item.chave_pix}} </td>
                  </ng-container>
            
                <ng-container matColumnDef="banco">
                  <th mat-header-cell *matHeaderCellDef> Banco </th>
                  <td mat-cell *matCellDef="let item"> {{item.instituicao}} </td>
                </ng-container>

                <ng-container matColumnDef="valor">
                    <th mat-header-cell *matHeaderCellDef> Valor </th>
                    <td mat-cell *matCellDef="let item"> {{item.valor | currency: 'BRL'}}</td>
                </ng-container>

                <ng-container matColumnDef="porcentagem">
                    <th mat-header-cell *matHeaderCellDef> Porcentagem </th>
                    <td mat-cell *matCellDef="let item"> {{item.porcentagem_individual +'%'}} </td>
                </ng-container>

                <ng-container matColumnDef="data">
                    <th mat-header-cell *matHeaderCellDef> Data </th>
                    <td mat-cell *matCellDef="let item"> {{item.data_pagamento | date:"dd/MM/yyyy"}} </td>
                </ng-container>

                <ng-container matColumnDef="cpf">
                    <th mat-header-cell *matHeaderCellDef> CPF </th>
                    <td mat-cell *matCellDef="let item"> {{item.cpf | mask: '000.000.000-00'}} </td>
                </ng-container>

                <ng-container matColumnDef="descricao">
                    <th mat-header-cell *matHeaderCellDef> Descrição </th>
                    <td mat-cell *matCellDef="let item"> {{item.descricao}} </td>
                </ng-container>

          
                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef> Opções </th>
                  <td mat-cell *matCellDef="let item">
                    <button mat-fab color="primary" [matMenuTriggerFor]="menu">
                      <mat-icon>keyboard_arrow_down</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                      <button mat-menu-item (click)="openEditModal(item, item.id)">Editar</button>
                      <button mat-menu-item (click)="openDeleteModal(item.id)">Excluir</button>
                    </mat-menu>
                  </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
        </div>
    </div>
</div>